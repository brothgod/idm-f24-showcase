<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IDM Showcase Fall 2024</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="container">
      <div class="tools" id="logo">
        <h1>IDM <br />F24</h1>
        <p align="right">
          <input type="button" value="â†»" />
        </p>
        <p align="right">
          <input type="button" value="random" />
        </p>
        <p align="right">
          <input type="button" value="organize" />
        </p>
      </div>
      <div class="screen">
        <p
          style="top: 14%; left: 67%; max-width: 150px; min-width: 100px"
          class="entry"
        >
          <img alt="" src="idm.jpg" />
        </p>
        <p
          style="top: 14%; left: 67%; max-width: 150px; min-width: 100px"
          class="entry"
        >
          <img alt="" src="idm.jpg" />
        </p>
        <p
          style="top: 14%; left: 67%; max-width: 150px; min-width: 100px"
          class="entry"
        >
          <img alt="" src="idm.jpg" />
        </p>
        <p
          style="top: 14%; left: 67%; max-width: 150px; min-width: 100px"
          class="entry"
        >
          <img alt="" src="idm.jpg" />
        </p>
        <p
          style="top: 14%; left: 67%; max-width: 150px; min-width: 100px"
          class="entry"
        >
          <img alt="" src="idm.jpg" />
        </p>
        <p
          style="top: 14%; left: 67%; max-width: 150px; min-width: 100px"
          class="entry"
        >
          <img alt="" src="idm.jpg" />
        </p>
        <p
          style="top: 14%; left: 67%; max-width: 150px; min-width: 100px"
          class="entry"
        >
          <img alt="" src="idm.jpg" />
        </p>
        <p
          style="top: 14%; left: 67%; max-width: 150px; min-width: 100px"
          class="entry"
        >
          <img alt="" src="idm.jpg" />
        </p>
        <p
          style="top: 14%; left: 67%; max-width: 150px; min-width: 100px"
          class="entry"
        >
          <img alt="" src="idm.jpg" />
        </p>
        <p
          style="top: 14%; left: 67%; max-width: 150px; min-width: 100px"
          class="entry"
        >
          <img alt="" src="idm.jpg" />
        </p>
        <p
          style="top: 14%; left: 67%; max-width: 150px; min-width: 100px"
          class="entry"
        >
          <img alt="" src="idm.jpg" />
        </p>
        <p
          style="top: 14%; left: 67%; max-width: 150px; min-width: 100px"
          class="entry"
        >
          <img alt="" src="idm.jpg" />
        </p>
      </div>
    </div>

    <script>
      var projects = document.getElementsByClassName("entry");
      var idmLogo = document.getElementById("logo");
      var winWidth = window.innerWidth;
      var winHeight = window.innerHeight;
      var idmLogoBoundingBox = idmLogo.getBoundingClientRect();
      console.log(
        "Logo position: ",
        idmLogoBoundingBox.top,
        idmLogoBoundingBox.bottom,
        idmLogoBoundingBox.left,
        idmLogoBoundingBox.right
      );

      for (var i = 0; i < projects.length; i++) {
        var project = projects[i];
        console.log("Project ", i);
        do {
          setRandomPosition(project, winHeight, winWidth);
        } while (
          touching(
            project.getBoundingClientRect(),
            idmLogo.getBoundingClientRect()
          )
        );
      }

      function setRandomPosition(project, winHeight, winWidth) {
        randomTop = getRandomNumber(60, winHeight - 160);
        randomLeft = getRandomNumber(0, winWidth - 100);

        project.style.top = randomTop + "px";
        project.style.left = randomLeft + "px";
      }

      //Returns true if two divs are touching
      function touching(div1, div2) {
        let div1Top = div1.top;
        let div1Left = div1.left;
        let div1Right = div1.right;
        let div1Bottom = div1.bottom;

        let div2Top = div2.top;
        let div2Left = div2.left;
        let div2Right = div2.right;
        let div2Bottom = div2.bottom;

        console.log(
          "Project position:",
          div1Top,
          div1Bottom,
          div1Left,
          div1Right
        );

        var verticalMatch = false;
        var horizontalMatch = false;

        // Check for horizontal overlap
        horizontalMatch = div1Left <= div2Right && div1Right >= div2Left;

        // Check for vertical overlap
        verticalMatch = div1Top <= div2Bottom && div1Bottom >= div2Top;

        if (horizontalMatch && verticalMatch) {
          return true;
        } else {
          console.log(horizontalMatch, verticalMatch);
          return false;
        }
      }

      function getRandomNumber(min, max) {
        return Math.random() * (max - min) + min;
      }
    </script>
  </body>
</html>
